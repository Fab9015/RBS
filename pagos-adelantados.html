<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pagos Adelantados – Condominio RBS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="img/favicon.png" type="image/png">
  <style>
    :root {
      --color-bg: #fdfaf5;
      --color-title: #5c4033;
      --color-accent: #a1b27a;
      --color-white: #fefefe;
      --color-border: #e6e2dc;
    }

    body {
      font-family: 'Lato', sans-serif;
      background: var(--color-bg);
      color: var(--color-title);
      margin: 0;
      padding: 0;
    }

    header {
      background: var(--color-accent);
      color: var(--color-white);
      padding: 1.5em;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    header h1 {
      margin: 0;
      font-size: 1.8em;
    }

    .container {
      max-width: 1000px;
      margin: auto;
      padding: 2em;
    }

    h2 {
      color: var(--color-title);
      border-bottom: 2px solid var(--color-border);
      padding-bottom: 0.3em;
    }

    .section {
      margin-bottom: 2em;
    }

    .option {
      background: var(--color-white);
      border: 1px solid var(--color-border);
      border-radius: 8px;
      padding: 1em;
      margin-bottom: 1em;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    .option h3 {
      margin-top: 0;
      color: var(--color-accent);
    }

    .notes {
      background: #fcfcfa;
      border-left: 4px solid var(--color-accent);
      padding: 1em;
      font-size: 0.95em;
      color: #444;
    }

    footer {
      background: var(--color-accent);
      color: var(--color-white);
      text-align: center;
      padding: 1em;
      margin-top: 2em;
    }

    /* Responsive helpers */
    .row { display:flex; gap:16px; flex-wrap:wrap; }
    .col { flex:1 1 300px; min-width:260px; }
    .card { background:#fff; border-radius:8px; padding:12px; box-shadow:0 2px 6px rgba(0,0,0,0.06); text-align:center; }
    @media(max-width:600px){ .row{flex-direction:column;} }
  </style>
</head>
<body>
  <header>
    <h1>Pagos Adelantados – Información y Opciones</h1>
  </header>

  <div class="container">
    <!-- Introducción -->
    <div class="section">
      <h2>Contexto</h2>
      <p>
        En la transición administrativa de noviembre constatamos que varias cuotas de mantenimiento pagadas por adelantado por vecinos no fueron entregadas al comité entrante. La administración anterior destinó esos fondos al pago de servicios comunes, justificando su decisión en la falta de aprobación de incrementos por parte de la asamblea.
      </p>
      <p>
        Queremos dejar claro que esos recursos nunca llegaron a la nueva administración, por lo que la responsabilidad de su uso corresponde únicamente a la gestión saliente. Reconocemos la preocupación que esta situación genera y, con un enfoque transparente y solidario, presentamos alternativas que permitan atender el problema sin comprometer la estabilidad financiera del condominio.
      </p>
      <p>
        Todas las propuestas se basan en montos comprobados mediante recibos o comprobantes bancarios. Nuestro objetivo es encontrar acuerdos que ofrezcan soluciones equitativas y que preserven el interés colectivo.
      </p>
    </div>
        <!-- Opciones -->
    <div class="section">
      <h2>Opciones de Solución</h2>

      <div class="option">
        <h3>1. Asamblea General y Cuota Extraordinaria</h3>
        <p>
          Presentar el tema en la asamblea general y solicitar una cuota extraordinaria que permita recuperar los pagos adelantados. 
          El argumento principal es que los recursos fueron utilizados en beneficio de todos los vecinos al cubrir servicios comunes.
        </p>
        <p><strong>Ventajas:</strong> Recuperación total de los montos adelantados.</p>
        <p><strong>Desventajas:</strong> Incluso quienes ya habían pagado por adelantado tendrían que aportar la cuota.</p>
        <p><strong>Riesgos:</strong> Que la asamblea no apruebe la medida y se pierda la oportunidad de recuperar el dinero.</p>
      </div>

      <div class="option">
        <h3>2. Acuerdos Voluntarios con Vecinos</h3>
        <p>
          Se propone llegar a acuerdos voluntarios con quienes realizaron pagos adelantados. Estos acuerdos pueden combinarse entre sí, 
          reduciendo progresivamente el número de vecinos pendientes de solución.
        </p>
        <ul>
          <li><strong>Acuerdo 1:</strong> Vecinos que comprendan que el recurso nunca llegó a la nueva administración y decidan, de manera solidaria, no exigir su devolución.</li>
          <li><strong>Acuerdo 2:</strong> Aplicar el monto adelantado como parte del pago por el uso del salón de eventos. El costo del salón es de $1050; las cuotas adelantadas (de $600 cada una) se descontarían de ese monto.</li>
          <li><strong>Acuerdo 3:</strong> Organizar una rifa en el condominio con premios equivalentes a cuotas ordinarias. La participación sería abierta y transparente, y lo recaudado se destinaría a cubrir los pagos adelantados.</li>
          <li><strong>Acuerdo 4:</strong> Para quienes no participen en los acuerdos anteriores, o para quienes aún tengan un resto de dinero pendiente tras optar por acuerdos 2 o 3, el monto adelantado se aplicaría en cuotas ordinarias de $100 en $100 hasta cubrir el total. 
          Este mecanismo asegura que todo monto quede reconocido sin comprometer los ingresos regulares del condominio.</li>
        </ul>
      </div>
    </div>

    <!-- Notas finales -->
    <div class="section notes">
      <h2>Notas Finales</h2>
      <p>
        Todos los acuerdos se basarán únicamente en los montos comprobados mediante recibos o comprobantes bancarios. 
        No se hablará de mensualidades específicas, sino de cantidades de dinero verificadas. 
        El objetivo es encontrar soluciones que, sin afectar los intereses del condominio, permitan atender la situación de manera justa y transparente.
      </p>
    </div>
        <!-- Indicadores resumen -->
    <div class="section">
      <h2>Resumen de Pagos Adelantados</h2>
      <div class="row">
        <div class="col card">
          <h3>Total recaudado</h3>
          <p id="total"></p>
        </div>
        <div class="col card">
          <h3>Condóminos</h3>
          <p id="count"></p>
        </div>
      </div>
    </div>

    <!-- Gráficos -->
    <div class="section">
      <h2>Visualización de Datos</h2>
      <div style="height:300px;">
        <canvas id="barSector"></canvas>
      </div>
      <div style="height:300px; margin-top:2em;">
        <canvas id="histMontos"></canvas>
      </div>
      <div style="height:300px; margin-top:2em;">
        <canvas id="barMontos"></canvas>
      </div>
    </div>

    <!-- Tabla -->
    <div class="section">
      <h2>Detalle de Pagos Adelantados</h2>
      <table id="tablaPagos" style="width:100%; border-collapse:collapse;">
        <thead>
          <tr style="background:#a1b27a; color:#fff;">
            <th style="padding:8px; border:1px solid var(--color-border);">Domicilio</th>
            <th style="padding:8px; border:1px solid var(--color-border);">Meses</th>
            <th style="padding:8px; border:1px solid var(--color-border);">Monto</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
        <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      // Cargar datos desde archivo JSON externo
      fetch('pagos_adelantados.json')
        .then(r => r.json())
        .then(data => {
          // indicadores resumen
          document.getElementById('total').textContent = "$" + data.resumen.total.toLocaleString();
          document.getElementById('count').textContent = data.resumen.count;
          document.getElementById('avg').textContent = "$" + data.resumen.avg.toFixed(2);

          // Gráfica 1: Total por sector
          new Chart(document.getElementById('barSector'), {
            type:'bar',
            data:{ labels:data.sectores.labels,
                   datasets:[{label:'Total por sector', data:data.sectores.values, backgroundColor:'#a1b27a'}] },
            options:{ responsive:true, maintainAspectRatio:false }
          });

          // Gráfica 2: Histograma de montos
          new Chart(document.getElementById('histMontos'), {
            type:'bar',
            data:{ labels:data.rangos.labels,
                   datasets:[{label:'Vecinos', data:data.rangos.values, backgroundColor:'#5c4033'}] },
            options:{ responsive:true, maintainAspectRatio:false }
          });

          // Gráfica 3: Montos por domicilio
          new Chart(document.getElementById('barMontos'), {
            type:'bar',
            data:{ labels:data.montos.labels,
                   datasets:[{label:'Monto por domicilio', data:data.montos.values, backgroundColor:'#6a4f3d'}] },
            options:{ responsive:true, maintainAspectRatio:false,
                      scales:{ x:{ ticks:{ autoSkip:false } } } }
          });

          // tabla detalle
          const tbody = document.querySelector('#tablaPagos tbody');
          data.detalle.forEach(d=>{
            tbody.innerHTML += `<tr>
              <td style="padding:6px; border:1px solid var(--color-border);">${d.domicilio}</td>
              <td style="padding:6px; border:1px solid var(--color-border);">${d.meses}</td>
              <td style="padding:6px; border:1px solid var(--color-border);">$${d.monto}</td>
            </tr>`;
          });
        });
    </script>
  </div> <!-- cierre container -->

  <!-- Footer -->
  <footer>
    <p>Comité de Administración · Condominio Reserva Bosque Sereno</p>
  </footer>
</body>
</html>
